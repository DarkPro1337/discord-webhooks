---
title: "IFTTT"
date: 2018-07-25T00:10:33+03:00
weight: 5
draft: false
---
**IFTTT** — это сервис позволяющий соединять сервисы между собой. Он поддерживает вебхуки, поэтому мы можем использовать его с Discord.

## Аккаунт на IFTTT

Зайдите на IFTTT и создайте там свой аккаунт \(если у вас его нет\)

## Вебхуки в Discord

1. Зайдите в **Настройки сервера → Вебхуки → Создать вебхук**
2. Укажите имя, установите аватар и канал в который вебхук будет отправлять сообщения. Скопируйте URL Вебхука. **Не отправляйте никому эту ссылку! Это очень опасно!**
3. Нажмите на `Сохранить`

## Создаём Апплет

### if `this`

1. Перейдите в [My Applets](https://ifttt.com/my_applets) → `New Applet`
2. Кликните `[+]this`
3. Выберите сервис
4. Выберите триггер. Прочитайте описание под каждым триггером и выберите нужный
5. Заполните поля триггера. Здесь может быть ещё один шаг. Прочитайте описание и просмотрите примеры

### then `that`

1. Кликните `[+]that`
2. Выберите сервис действия. Нам нужен `Webhooks`. Используйте поиск
3. Выберите действие. Выбирайте `Make a web request`
4. Вставьте **URL Вебхука** в поле **URL**
5. Выберите метод **POST**
6. Выберите **application/json** из списка `Content Type`
7. А теперь самая сложная часть™. Вам нужно будет создать JSON body и указать его в `Body` для запроса. Придерживайтесь структуры \(которую можно найти в этом гайде\), используйте её как пример, и не забывайте о здравом смысле™. Нажмите `Add ingredient` и добавьте ингредиентов в соответствующие поля.
8. Нажмите `Create Action` а затем `Finish`
9. Готово!

## Советы

* **Экранируйте ингредиенты! Добавьте `<<<` и `>>>` между ними. Это может помочь исправить проблемы вызванные неэкранированными символами.** Экранирование ссылок опционально.
* Не забудьте проверить ваш JSON body при помощи JSON валидатора. Если вы не знаете ни одного валидатора, могу порекомендовать эти:
  * [JSON Formatter](https://jsonformatter.org/)
  * [JSON Editor Online](https://jsoneditoronline.org/)
  * [JSON Lint](https://jsonlint.com/)
* Я настоятельно рекомендую использовать [Embed Visualizer](https://leovoel.github.io/embed-visualizer/). Не забудьте переключится в режим вебхука, нажав **Enable webhook mode** и добавьте ваш JSON body для тестирования.
* Discord имеет встроенные вложения для Twitter, YouTube и некоторых других, поэтому вы можете сделать ваш вебхук проще:  `{"content": "{{Url}}"}`. Просто попробуйте.
