---
title: "Обзор"
draft: false
weight: 1
pre: "01. "
---
Мы поговорили о том, как Godot использует узлы и сцены для создания структуры игры, и рассмотрели некоторые типы узлов, которые вы можете использовать, такой узел как Sprite, который у меня здесь есть. Но все это не эффективно, если вы не можете заставить узлы двигаться или взаимодействовать с игроком или друг с другом.

Иными словами, нам нужно определить "правила" нашей игры. С точки зрения разработчика: "игровая логика". Мы делаем это с помощью скриптов.

GDScript - это встроенный язык Godot для программирования и взаимодействия с узлами. [Документация GDScript](https://docs.godotengine.org/ru/stable/getting_started/scripting/gdscript/gdscript_basics.html) на сайте Godot вполне себе хороша, и я настоятельно рекомендую найти время, чтобы прочитать его.

Написание скриптов и привязка их к узлам - это то, как вы встраиваете поведение игры и игровую механику. Например, если вы хотите, чтобы спрайт перемещался по экрану, вы добавите скрипт, который сообщит ему, как быстро перемещаться, в каком направлении и так далее.

GDScript использует синтаксис, основанный на Python, но он оптимизирован и интегрирован в движок Godot, что облегчает начало работы. Вы можете представить программирование как использования Инспектора - GDScript знает все об узлах Godot и о том, как получить к ним доступ.

Давайте сделаем наш первый скрипт. Помните, что к любому узлу может быть прикреплен скрипт. Щелкните правой кнопкой мыши по узлу спрайта и выберите "Add Script". Вы также можете нажать кнопку рядом с окном поиска:

![Добавление скрипта](../img/gds_01_attach.png?width=250)

Далее вам нужно выбрать, где вы хотите сохранить скрипт и как его назвать. Если вы назвали узел, скрипт будет автоматически назван в соответствии с ним.

Теперь откроется окно редактора скриптов, и это ваш новый пустой скрипт спрайта. Godot автоматически включил некоторые строки кода, а также некоторые комментарии, описывающие, что они делают.

```gdscript
extends Sprite

# Объявление переменных здесь. Примеры:
# var a = 2
# var b = "text"

# Вызывается когда узел появляться на сцене в первый раз.
func _ready():
	pass # Замените телом функции.

# Вызывается каждый кадр. 'delta' это время, прошедшее с момента предыдущего кадра.
#func _process(delta):
#	pass
```

В первой строке каждого скрипта написано "extends", за которым следует тип узла. Это соответствует узлу, к которому прикреплен скрипт. Поскольку этот скрипт расширяет Sprite, он сможет получить доступ ко всем свойствам узла Sprite и манипулировать ими. Мы *расширяем* функциональность базового узла Sprite.

После этого вы будете определять все переменные, которые будете использовать в скрипте. Вы определяете переменные с помощью ключевого слова var - как вы можете видеть в примерах комментариев. Давайте избавимся от комментариев и поговорим об этой следующей части.

Теперь мы видим функцию с именем `_ready ()`. В GDScript вы определяете функцию ключевым словом "func". Функция `_ready ()` - это особая функция, которую Godot ищет и запускает всякий раз, когда узел добавляется в дерево сцены, например, когда мы нажимаем "Play".

Допустим, что когда игра начнется, мы хотим убедиться, что Sprite отправится в определенное место. Мы хотим установить свойство "Position". Обратите внимание, что она находится под "Node2D" - это означает, что это свойство есть у *любого* узла типа Node2D, а не только у спрайтов.

Как мы устанавливаем свойство?

У Godot есть отличный встроенный инструмент помощи/справки. Нажмите "Classes" в верхней части окна скриптов и найдите Node2D, и вы увидите страницу справки, показывающую все свойства и методы, доступные классу. Посмотрев немного вниз, вы можете увидеть `position` в разделе "member variables" - это то, что нам нужно. Это также говорит нам, что свойство имеет тип "Vector2".

Еще один способ узнать название объекта - навести курсор на него в окне инспектора.

Давайте вернемся к нашему скрипту и воспользуемся этим свойством - обратите внимание, как редактор делает предложения при наборе текста. Godot использует векторы для многих вещей, и мы поговорим о них позже. А пока давайте наберём Vector2, а подсказка подсказывает нам поставить два числа с плавающей запятой (`float`) для `x` и` y`.

### Краткое примечание об обучении

Начинающие часто спрашивают: "Как вы запоминаете все эти команды?" Дело не в запоминании, а в практике. Чем чаще вы будете использовать вещи, тем чаще они будут "прилипать" и становиться автоматическими. Пока что хорошая идея - держать справку под рукой. Используйте функцию поиска или, если у вас есть несколько мониторов, держите копию веб документации открытой на стороне, чтобы ссылаться на нее.